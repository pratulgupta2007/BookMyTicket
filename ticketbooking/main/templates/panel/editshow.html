{% extends "base_admin.html" %}

{% block content %}
<div class="mx-auto max-w-4xl p-8 bg-white shadow-lg rounded-lg mt-8">
    <h4 class="text-2xl font-bold text-gray-800 mb-4">Edit Show</h4>
    {% if messages %}
    {% for message in messages %}
    <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4" role="alert">
        {{ message.tags }}
    </div>
    {% endfor %}
    {% else %}
    <hr class="my-4">
    <form method="post">
        {% csrf_token %}
        <div class="mb-4">
            <label for="id_movie" class="block text-gray-700">Movie:</label>
            <select name="movie" id="id_movie" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                {% for movie in movies %}
                <option value="{{ movie.movie }}">{{ movie.movie }}</option>
                {% endfor %}
            </select>
        </div>

        <div class="mb-4">
            <label for="id_date" class="block text-gray-700">Date:</label>
            <input class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" type="date" name="date" required id="id_date" value="{{ show.get_date_str }}">
        </div>

        <div class="mb-4">
            <label for="id_time" class="block text-gray-700">Time:</label>
            <input class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" type="time" name="time" required id="id_time" value="{{ show.get_time_str }}">
        </div>

        <div class="mb-4">
            <label for="id_seats" class="block text-gray-700">Seats:</label>
            <input class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" type="number" name="seats" min="1" required id="id_seats" value="{{ show.seats }}">
        </div>

        <div class="mb-4">
            <label for="id_price" class="block text-gray-700">Price:</label>
            <input class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" type="number" name="price" step="0.01" required id="id_price" value="{{ show.price }}">
        </div>

        <div class="mb-4">
            <label for="id_type" class="block text-gray-700">Type:</label>
            <input class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" type="text" name="type" maxlength="20" required id="id_type" value="{{ show.type }}">
        </div>

        <div class="mb-4">
            <label for="id_language" class="block text-gray-700">Language:</label>
            <input class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" type="text" name="language" maxlength="20" required id="id_language" value="{{ show.language }}">
        </div>
        <div class="text-center">
            <button type="submit" class="w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500">Save</button>
        </div>
    </form>
    {% if form.errors %}
    <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mt-4" role="alert">
        {{ form.errors }}
    </div>
    {% endif %}
    {% endif %}
</div>
{% endblock %}