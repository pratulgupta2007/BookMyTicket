{% extends "base_generic.html" %}
{% load allauth i18n %}

{% block content %}
<div class="container" style="margin-left:5%;">
    <h4 style="margin-bottom:10px;">Change Password</h4>
    <form method="post" action="{% url 'account_change_password' %}">        
            {% csrf_token %}
                <p class="col-4">
                <input type="password" class="form-control" name="oldpassword" placeholder="Current Password" autocomplete="current-password" required id="id_oldpassword">
                </p>
                {% if form.errors.oldpassword %}
                    <div class="alert alert-danger" role="alert">
                        {{form.errors.oldpassword}}
                    </div>
                {% endif %}
        
                <p class="col-4">
                <input type="password" class="form-control" name="password1" placeholder="New Password" autocomplete="new-password" required aria-describedby="id_password1_helptext" id="id_password1">
                <span class="helptext" id="id_password1_helptext"><ul><li>Your password can't be too similar to your other personal information.</li><li>Your password must contain at least 8 characters.</li><li>Your password can’t be a commonly used password.</li><li>Your password can’t be entirely numeric.</li></ul></span>
                </p>
                {% if form.errors.password1 %}
                    <div class="alert alert-danger" role="alert">
                        {{form.errors.password1}}
                    </div>
                {% endif %}
        
                <p class="col-4">
                <input type="password" class="form-control" name="password2" placeholder="New Password (again)" required id="id_password2">
                </p>
                {% if form.errors.password2 %}
                    <div class="alert alert-danger" role="alert">
                        {{form.errors.password2}}
                    </div>
                {% endif %}

            <button type="submit" class="btn btn-primary" style="margin-right:10px;">Change Password</button>
            <a href="{% url 'account_reset_password' %}">Forgot Password?</a>
    </form>
</div>
{% endblock %}
